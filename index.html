<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />

  <!-- 游녢 INCISO C (AQU칈 VA, DENTRO DE <head>) -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="manifest.webmanifest">

  <title>Cotizador Corte L치ser</title>

  <style>
    body { font-family: -apple-system, system-ui, Arial; margin: 16px; }
    h1 { font-size: 20px; margin: 0 0 12px; }
    .card { border: 1px solid #ddd; border-radius: 12px; padding: 12px; margin-bottom: 12px; }
    label { display:block; font-size: 12px; opacity:.8; margin-top: 10px; }
    input, select, textarea { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 10px; font-size: 16px; background:#fff; }
    textarea { min-height: 60px; resize: vertical; }
    .row { display:flex; gap:10px; }
    .row > div { flex:1; }
    button { width:100%; padding: 12px; font-size: 16px; border:0; border-radius: 12px; cursor:pointer; }
    .primary { background:#111; color:#fff; }
    .ghost { background:#f2f2f2; }
    .danger { background:#ffe8e8; }
    .out { font-size: 16px; line-height: 1.35; }
    .big { font-size: 22px; font-weight: 700; }
    .muted { opacity: .75; font-size: 13px; }
    .hr { height:1px; background:#eee; margin:10px 0; }
    .twoBtns { display:flex; gap:10px; margin-top:10px; }
    .twoBtns button { flex:1; }
  </style>
</head>

<body>

<h1>游늻 Cotizador Corte L치ser (Acero)</h1>

<div class="card">
  <div class="row">
    <div>
      <label>Largo (in)</label>
      <input id="L" type="number" value="6" step="0.01">
    </div>
    <div>
      <label>Ancho (in)</label>
      <input id="W" type="number" value="3" step="0.01">
    </div>
  </div>

  <div class="row">
    <div>
      <label>Espesor (in)</label>
      <input id="T" type="number" value="0.0625" step="0.0001">
    </div>
    <div>
      <label>Cantidad de piezas</label>
      <input id="qty" type="number" value="1" min="1">
    </div>
  </div>

  <div class="row">
    <div>
      <label>Tiempo de corte (min por pieza)</label>
      <input id="cutMin" type="number" value="15" step="0.1">
    </div>
    <div>
      <label>Setup fijo ($)</label>
      <input id="setup" type="number" value="0">
    </div>
  </div>

  <div class="row">
    <div>
      <label>Factor (0.13)</label>
      <input id="factor" type="number" value="0.13" step="0.001">
    </div>
    <div>
      <label>USD / kg</label>
      <input id="usdKg" type="number" value="1.7" step="0.01">
    </div>
  </div>

  <div class="row">
    <div>
      <label>USD / hora l치ser</label>
      <input id="usdHr" type="number" value="85">
    </div>
    <div>
      <label>Margen %</label>
      <input id="margin" type="number" value="0">
    </div>
  </div>

  <button class="primary" onclick="calc()">Calcular</button>
</div>

<div class="card">
  <div id="out" class="out">Ingresa datos y presiona Calcular</div>
</div>

<script>
const IN_TO_CM = 2.54;

function money(x){
  return "$" + (Math.round(x*100)/100).toFixed(2);
}

function calc(){
  const L = +L_input.value || 0;
  const W = +W_input.value || 0;
  const T = +T_input.value || 0;
  const qty = +qty_input.value || 1;
  const cutMin = +cutMin_input.value || 0;
  const setup = +setup_input.value || 0;
  const factor = +factor_input.value || 0;
  const usdKg = +usdKg_input.value || 0;
  const usdHr = +usdHr_input.value || 0;
  const margin = (+margin_input.value || 0) / 100;

  const volume = (L*IN_TO_CM) * (W*IN_TO_CM) * (T*IN_TO_CM);
  const weight = volume * factor;
  const material = weight * usdKg * qty;
  const laser = (cutMin * qty / 60) * usdHr;

  const base = material + laser + setup;
  const total = base * (1 + margin);
  const perPiece = total / qty;

  out.innerHTML = `
    <div class="big">Total: ${money(total)}</div>
    <div class="muted">Precio por pieza: ${money(perPiece)}</div>
    <div class="hr"></div>
    <div>Material: ${money(material)}</div>
    <div>L치ser: ${money(laser)}</div>
    <div>Setup: ${money(setup)}</div>
  `;
}

/* enlaces r치pidos */
const L_input = document.getElementById("L");
const W_input = document.getElementById("W");
const T_input = document.getElementById("T");
const qty_input = document.getElementById("qty");
const cutMin_input = document.getElementById("cutMin");
const setup_input = document.getElementById("setup");
const factor_input = document.getElementById("factor");
const usdKg_input = document.getElementById("usdKg");
const usdHr_input = document.getElementById("usdHr");
const margin_input = document.getElementById("margin");

</script>

</body>
</html>
